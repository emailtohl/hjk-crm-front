<nz-card [nzBordered]="false" nzTitle="公司注册详情" [nzExtra]="extraTemplate">
  <div nz-row [nzGutter]="{ xs: 8, sm: 8, md: 8, lg: 8, xl: 8, xxl: 8 }">
    <div nz-col nzSpan="6"><b>公司名</b><span>{{data?.name}}</span></div>
    <div nz-col nzSpan="6"><b>地址</b><span>{{data?.address}}</span></div>
    <div nz-col nzSpan="6"><b>电话</b><span>{{data?.telephone}}</span></div>
    <div nz-col nzSpan="6"><b>纳税号</b><span>{{data?.taxNumber}}</span></div>
  </div>
  <div nz-row [nzGutter]="{ xs: 8, sm: 8, md: 8, lg: 8, xl: 8, xxl: 8 }" style="margin-top: 20px;">
    <div nz-col nzSpan="6"><b>开户行</b><span>{{data?.depositBank}}</span></div>
    <div nz-col nzSpan="6"><b>开户行账号</b><span>{{data?.account}}</span></div>
    <div nz-col nzSpan="6"><b>联系人</b><span>{{data?.principal}}</span></div>
    <div nz-col nzSpan="6"><b>联系人电话</b><span>{{data?.principalPhone}}</span></div>
  </div>
  <div nz-row [nzGutter]="{ xs: 8, sm: 8, md: 8, lg: 8, xl: 8, xxl: 8 }" style="margin-top: 20px;">
    <div nz-col nzSpan="6"><b>收件地址</b><span>{{data?.deliveryAddress}}</span></div>
    <div nz-col nzSpan="6"><b>联系人电话</b><span>{{data?.principalPhone}}</span></div>
    <div nz-col nzSpan="6"><b>创建时间</b><span>{{data?.createDate}}</span></div>
    <div nz-col nzSpan="6"><b>修改时间</b><span>{{data?.modifyDate}}</span></div>
  </div>
  <div nz-row style="margin-top: 20px;">
    <div nz-col nzSpan="6"><b>客户源</b><span>{{data?.receiver}}</span></div>
    <div nz-col nzSpan="6"><b>是否有效</b><span>{{data?.pass | booleanPipe}}</span></div>
    <div nz-col nzSpan="12"><b>备注</b><span>{{data?.remark}}</span></div>
  </div>
</nz-card>

<div nz-row>
  <div nz-col nzSpan="8" *ngFor="let item of data?.credentials">
    <nz-card nzHoverable style="width:240px" [nzCover]="coverTemplate">
      <nz-card-meta nzTitle="Europe Street beat" nzDescription="{{item.filename}}"></nz-card-meta>
    </nz-card>
    <ng-template #coverTemplate>
      <img alt="{{item.mimeType}}" [src]="credentialUrl(item.id)" />
    </ng-template>
  </div>
</div>

<ng-template #extraTemplate>
  <a style="margin-right: 30px;">编辑</a>
  <a style="margin-right: 30px;" (click)="claim()" *ngIf="!data?.flow?.taskAssignee">签收</a>
  <a (click)="check()" *ngIf="isTaskAssignee()">审核</a>
</ng-template>

<nz-card  [nzBordered]="false" nzTitle="流程状态" >
  <nz-steps [nzCurrent]="current">
    <nz-step nzTitle="Register" nzDescription="成功注册公司信息"></nz-step>
    <nz-step nzTitle="Waiting" nzDescription="处理中"></nz-step>
    <nz-step nzTitle="End" nzDescription="可以使用"></nz-step>
  </nz-steps>
</nz-card>

<nz-card  [nzBordered]="false" nzTitle="流程详情" >
    <div nz-row [nzGutter]="{ xs: 8, sm: 8, md: 8, lg: 8, xl: 8, xxl: 8 }">
      <div nz-col nzSpan="12"><b>注册人</b><span>{{data?.flow?.applyUserName}}</span></div>
      <div nz-col nzSpan="12"><b>注册号</b><span>{{data?.flow?.flowNum}}</span></div>
    </div>
    <div nz-row [nzGutter]="{ xs: 8, sm: 8, md: 8, lg: 8, xl: 8, xxl: 8 }" style="margin-top: 20px;">
      <div nz-col nzSpan="12"><b>流程状态</b><span>{{data?.flow?.taskName}}</span></div>
      <div nz-col nzSpan="12"><b>处理人</b><span>{{data?.flow?.taskAssigneeName ? data?.flow?.taskAssigneeName : '无'}}</span></div>
    </div>

    <nz-list [nzDataSource]="data?.flow?.checks" [nzRenderItem]="item" [nzItemLayout]="'horizontal'">
      <ng-template #item let-item>
        <nz-list-item>
          <nz-list-item-meta [nzTitle]="nzTitle" nzAvatar="{{userUrl(item.checkerId)}}" nzDescription="{{item.checkComment}}">
            <ng-template #nzTitle>
              <a href="">{{item.checkerName}}</a>
            </ng-template>
          </nz-list-item-meta>
        </nz-list-item>
      </ng-template>
    </nz-list>
</nz-card>
