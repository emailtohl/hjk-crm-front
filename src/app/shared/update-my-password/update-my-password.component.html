<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>上传头像</nz-form-label>
    <div>
      <nz-form-control [nzSpan]="12" nzHasFeedback>
        <nz-upload nzAction="{{uploadPicture}}" (nzChange)="handleChange($event)" [nzSize]="5000"
        [nzFileType]="'image/png,image/jpeg,image/gif,image/bmp'" [nzShowUploadList]="false">
          <button type="button" nz-button>
            <i class="anticon anticon-upload"></i><span>选择照片</span>
          </button>
        </nz-upload>
      </nz-form-control>
    </div>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>原密码</nz-form-label>
    <div>
      <nz-form-control [nzSpan]="12" nzHasFeedback>
        <input nz-input type="password" formControlName="oldPassword" (ngModelChange)="validateConfirmPassword()">
        <nz-form-explain *ngIf="validateForm.get('oldPassword').dirty&&validateForm.get('oldPassword').hasError('required')">
          输入你的原密码!</nz-form-explain>
      </nz-form-control>
    </div>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>新密码</nz-form-label>
    <div>
      <nz-form-control [nzSpan]="12" nzHasFeedback>
        <input nz-input type="password" formControlName="newPassword" (ngModelChange)="validateConfirmPassword()">
        <nz-form-explain *ngIf="validateForm.get('newPassword').dirty && validateForm.get('newPassword').errors">
          <ng-container *ngIf="validateForm.get('newPassword').hasError('required')">
            请输入密码!
          </ng-container>
          <ng-container *ngIf="validateForm.get('newPassword').hasError('minlength')">
            密码至少5位!
          </ng-container>
        </nz-form-explain>
      </nz-form-control>
    </div>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="7" nzRequired>确认新密码</nz-form-label>
    <nz-form-control [nzSpan]="12" nzHasFeedback>
      <input nz-input type="password" formControlName="confirm" placeholder="confirm your password">
      <nz-form-explain *ngIf="validateForm.get('confirm').dirty&&validateForm.get('confirm').errors">
        <ng-container *ngIf="validateForm.get('confirm').hasError('required')">
          请输入确认密码!
        </ng-container>
        <ng-container *ngIf="validateForm.get('confirm').hasError('confirm')">
          前后密码输入不一致!
        </ng-container>
      </nz-form-explain>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-control [nzOffset]="7" [nzSpan]="12">
      <button nz-button nzType="primary" [nzLoading]="isLoading" [disabled]="!validateForm.valid">提交</button>
      <button nz-button (click)="resetForm($event)">重置</button>
    </nz-form-control>
  </nz-form-item>
</form>